{{- /* 
Machine-specific KeepassXC entry for SSH secrets.
The entry name is derived from 'SSH' + hardware serial number.

Usage: {{- template "ssh_secret" "id_ed25519" }}
*/ -}}
{{- $hw_serial := output "sh" "-c" "system_profiler SPHardwareDataType | awk '/Serial Number/ {print $NF}'" | trim -}}
{{- $entry := cat "SSH" $hw_serial -}}
{{- keepassxcAttribute $entry . -}}
