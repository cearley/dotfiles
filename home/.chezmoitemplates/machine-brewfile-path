{{- /* Determine the path to the appropriate Homebrew Brewfile based on computer name pattern.

     Uses the generic machine-config template to lookup the brewfile setting from machines.yaml,
     then constructs the full path to the brewfile.

     Example:
       Get brewfile path:  {{ includeTemplate "machine-brewfile-path" . }}

     Returns empty string if no brewfile is defined for the current machine.
*/ -}}
{{- $brewfile := includeTemplate "machine-config" (merge (dict "setting" "brewfile") .) -}}
{{- if $brewfile -}}
{{ .chezmoi.sourceDir }}/brewfiles/{{ $brewfile }}
{{- end -}}
