{{- /* Returns the machine pattern key name from machines.yaml.

     Uses the generic machine-config template to find which pattern matches
     the current computer name, then returns that pattern key.

     Example:
       computer name: "HAL 9000's MacBook Pro" <- from computer-name template
       machines.yaml patterns:
         "MacBook Pro":
         "Workstation":
       Returns: "MacBook Pro"

     Returns empty string if no pattern matches.
*/ -}}
{{- includeTemplate "machine-config" (merge (dict "return_key" true) .) -}}
